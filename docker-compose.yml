version: '3.8'

services:
  web:
    build: .
    ports:
      - "3389:3389"
    volumes:
      # Persist database
      - ./app.db:/app/app.db
      # Persist uploaded PDFs
      - ./uploads:/app/uploads
      # Persist generated images
      - ./images:/app/images
    environment:
      - FLASK_APP=app.py
      - FLASK_ENV=production
      - SCRIPT_NAME=/SMART
    restart: unless-stopped

